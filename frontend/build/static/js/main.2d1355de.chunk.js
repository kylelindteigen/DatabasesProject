(window["webpackJsonprestaurant-app"]=window["webpackJsonprestaurant-app"]||[]).push([[0],{101:function(e,t,a){e.exports=a(121)},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(106),a(109);var o=a(25),i=a(26),s=a(34),m=a(31),u=a(35),d=a(7),p=a(24),f=a.n(p),E=a(160),g=a(171),h=a(172),b=a(8),O=a(173),y=a(174),v=a(175),j=a(94),w=a(48),S=a(30),I=a(169),x=a(170),N=a(54),D=a(185),P=a(14),U=a(182),C=a(13),k=a(29),T=a(163),R=a(165),W=a(167),_=a(168),L=a(186),J=a(166),A=a(92),M=a.n(A),q=a(90),z=a.n(q),F=a(91),B=a.n(F),G=Object(E.a)(function(e){return{root:{width:"100%",maxWidth:360,background:"rgba(211,211,211,0.5)",height:"100%"},bigAvatar:{margin:10,width:60,height:60}}});function H(){var e=G();return r.a.createElement(T.a,{component:"nav",className:e.root,"aria-label":"mailbox folders"},r.a.createElement(b.b,{style:{textDecoration:"none",color:"inherit"},to:{pathname:"/Login"}},r.a.createElement(R.a,{button:!0},r.a.createElement(J.a,null,r.a.createElement(L.a,{className:e.bigAvatar},"C")),r.a.createElement(W.a,{primary:"@ConnorPawar",secondary:"Premium Member"}))),r.a.createElement(_.a,null),r.a.createElement(b.b,{style:{textDecoration:"none",color:"inherit"},to:{pathname:"/Speeches"}},r.a.createElement(R.a,{button:!0},r.a.createElement(J.a,null,r.a.createElement(L.a,{className:e.avatar},r.a.createElement(z.a,null))),r.a.createElement(W.a,{primary:"Speeches"}))),r.a.createElement(_.a,null),r.a.createElement(b.b,{style:{textDecoration:"none",color:"inherit"},to:{pathname:"/Settings"}},r.a.createElement(R.a,{button:!0,divider:!0},r.a.createElement(J.a,null,r.a.createElement(L.a,{className:e.avatar},r.a.createElement(B.a,null))),r.a.createElement(W.a,{primary:"Settings"}))),r.a.createElement(b.b,{style:{textDecoration:"none",color:"inherit"},to:{pathname:"/Logout"}},r.a.createElement(R.a,{button:!0,divider:!0},r.a.createElement(J.a,null,r.a.createElement(L.a,{className:e.avatar},r.a.createElement(M.a,null))),r.a.createElement(W.a,{primary:"Log Out"}))))}function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var X=Object(E.a)(function(e){return{root:{flexGrow:1},list:{width:250,height:"98%"},menuButton:{marginRight:e.spacing(2)},title:Object(S.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(S.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}});function V(e){var t,a=X(),l=Object(C.f)(),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=(o[0],o[1],r.a.useState({top:!1,left:!1,bottom:!1,right:!1})),s=Object(d.a)(i,2),m=s[0],u=s[1],p=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},m,Object(S.a)({},e,t)))}};return r.a.createElement("div",{className:a.root},r.a.createElement(I.a,{position:"sticky"},r.a.createElement(x.a,null,r.a.createElement(U.a,{open:m.left,onClose:p("left",!1),onOpen:p("left",!0)},(t="left",r.a.createElement("div",{className:a.list,role:"presentation",onClick:p(t,!1),onKeyDown:p(t,!1)},r.a.createElement(H,null)))),r.a.createElement(N.a,{className:a.title,variant:"h6",noWrap:!0},"iEat"),r.a.createElement(D.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onKeyDown:function(e){13==e.keyCode&&l.push("/Search/".concat(e.target.value))}}))))}a(57);var $=Object(E.a)(function(e){return{}});function Q(){var e=function(){console.log("hello"),fetch("/api/savePost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:localStorage.getItem("userid"),post:s}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log("fetch error",e)})},t=[],a=[],l=[],c=($(),Object(n.useState)([])),o=Object(d.a)(c,2),i=(o[0],o[1],function(e){s=e.target.value}),s="",m=Object(n.useState)(t),u=Object(d.a)(m,2),p=u[0],f=u[1],E=Object(n.useState)(a),S=Object(d.a)(E,2),I=S[0],x=S[1],N=Object(n.useState)(l),D=Object(d.a)(N,2),P=D[0],U=D[1],C=Object(n.useState)(!1),k=Object(d.a)(C,2),T=k[0];k[1];return Object(n.useEffect)(function(){fetch("/api/loadHomePage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:localStorage.getItem("userid")}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t=e.followsposts,f(t),a=e.follows,x(a),l=e.followed,U(l)}).catch(function(e){return console.log("fetch error",e)})},[T]),r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",null,r.a.createElement("div",{className:"grid","background-color":"black"},r.a.createElement("h",null,"Following"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"column",justify:"flex-start",alignItems:"baseline"},I.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name))))))))}))),r.a.createElement("div",{className:"div"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"hero-container"},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},r.a.createElement("textarea",{className:"textarea",value:localStorage.getItem("name")})),r.a.createElement(w.a,{modal:"true",trigger:r.a.createElement("button",null,"Post")},function(t){return r.a.createElement("div",{alignItems:"center"},r.a.createElement("div",{alignItems:"center"},r.a.createElement("textarea",{rows:"5",cols:"100",onKeyUp:i})),r.a.createElement("button",{onClick:e},"Submit"),r.a.createElement("button",{onClick:t},"Close"))}))),r.a.createElement("div",null),r.a.createElement("div",{className:"card-header",id:"posts"},r.a.createElement(g.a,{container:!0,spacing:0,direction:"column",justify:"flex-start",alignItems:"center"},p.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{direction:"row",key:e.PostID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/Post/".concat(e.PostID),state:{PostID:e.PostID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name),r.a.createElement("p",null,e.Post))))))))})))))),r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Followed By"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},P.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:a.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name))))))))}))))}a(117),n.Component,a(118),n.Component;var Y=0,Z=function(){function e(t){var a=this;Object(o.a)(this,e),this.getAverageRating=function(){if(void 0===a.place_id){if(a.reviews.length<=1)return a.averageRating;var e=0;return a.reviews.map(function(t){e+=t.rating}),e/a.user_ratings_total}if(0===a.newRatingsToAdd.length)return a.averageRating;var t=0;a.newRatingsToAdd.map(function(e){t+=e});var n=(a.averageRating*a.user_ratings_total+t)/(a.user_ratings_total+a.newRatingsToAdd.length);return a.averageRating=Math.round(n),n},this.id="restaurant_".concat(e.incrementId()),this.place_id=t.place_id,this.name=t.restaurantName,this.description=t.description,this.address=t.address,this.lat=t.lat,this.long=t.long,this.averageRating=t.averageRating,this.user_ratings_total=t.user_ratings_total,this.reviews=[{author_name:null,text:null,rating:null}],this.newRatingsToAdd=[],this.newAverageRating=this.getAverageRating(),this.isOpen=null}return Object(i.a)(e,null,[{key:"incrementId",value:function(){return++Y}}]),e}(),ee=(a(88),n.Component,n.Component,Object(E.a)(function(e){return{}}));function te(e){Object(k.b)();var t=Object(C.f)();fetch("/api/isRest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.match.params.UserID})}).then(function(e){return e.json()}).then(function(a){a.Restaurant&&t.push("/RestaurantPage/".concat(e.match.params.UserID))}).catch(function(e){M(!0),console.log("fetch error",e)});var a="fasdf",l=[],c=[],o=[],i=[],s=(ee(),Object(n.useState)([])),m=Object(d.a)(s,2),u=(m[0],m[1],Object(n.useState)(l)),p=Object(d.a)(u,2),f=p[0],E=p[1],w=Object(n.useState)(c),S=Object(d.a)(w,2),I=S[0],x=S[1],N=Object(n.useState)(o),D=Object(d.a)(N,2),P=D[0],U=D[1],T=Object(n.useState)(i),R=Object(d.a)(T,2),W=R[0],_=R[1],L=Object(n.useState)(!1),J=Object(d.a)(L,2),A=J[0],M=J[1],q=Object(n.useState)(a),z=Object(d.a)(q,2),F=z[0],B=z[1];Object(n.useEffect)(function(){fetch("/api/loadUserPage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.match.params.UserID}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){l=e.userposts,E(l),c=e.follows,x(c),o=e.followed,U(o),i=e.reviews,_(i),a=e.userinfo[0].Name,B(a)}).catch(function(e){return console.log("fetch error",e)})},[A]);var G=function(){t.push(e.location.pathname)};return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Follows"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"column",justify:"flex-start",alignItems:"baseline"},I.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,{onClick:G},r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name))))))))}))),r.a.createElement("div",{className:"div"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"hero-container"},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},r.a.createElement("textarea",{className:"logo d-flex justify-content-center",value:F})),r.a.createElement("button",{onClick:function(){fetch("/api/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({follower:localStorage.getItem("userid"),follow:e.match.params.UserID})}).then(function(e){return e.json()}).then(function(e){A()}).catch(function(e){M(!0),console.log("fetch error",e)})}},"follow"))),r.a.createElement("div",{className:"card-body",id:"posts"},r.a.createElement("h",null,"Posts"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},f.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.PostID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/PostPage/".concat(e.PostID),state:{PostID:e.PostID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name),r.a.createElement("p",null,e.Post),r.a.createElement("p",null,e.TimeStamp))))))))}))))),r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Followed By"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"column",justify:"flex-start",alignItems:"baseline"},P.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:c.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name))))))))}))),r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Reviews"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},W.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",{alignte:!0},e.RName),r.a.createElement("p",null,e.Description))))))))})))))}var ae=a(179),ne=a(177),re=a(181),le=a(178),ce=a(183),oe=a(180),ie=a(176);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function me(e){var t=Object(n.useState)({}),a=Object(d.a)(t,2),r=a[0],l=a[1];return{handleSubmit:function(t){t&&t.preventDefault(),e()},handleInputChange:function(e){e.persist(),l(function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,Object(S.a)({},e.target.name,e.target.value))})},inputs:r}}var ue=function(e){return{type:"LOGIN_USER",user:e}},de=function(){return{onLogin:function(e){return"/HomePage"},onPageLoad:function(e){return"/"}}},pe=Object(E.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});function fe(){var e=pe(),t=Object(C.f)(),a=Object(k.b)(),l=r.a.useState(!1),c=Object(d.a)(l,2),o=(c[0],c[1]),i=de(),s=i.onLogin;i.onPageLoad;Object(n.useEffect)(function(){});var m=me(function(){JSON.stringify({user:{email:"email",password:"password"}});fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){"success"==e.status?(localStorage.setItem("token",e.token),localStorage.setItem("userid",e.userid),localStorage.setItem("name",e.name),console.log(ue(e)),console.log(s(e.token)),a(ue(e)),t.push(s(e.token))):o(!0)}).catch(function(e){o(!0),console.log("fetch error",e)})}),u=m.inputs,p=m.handleInputChange,f=m.handleSubmit;return r.a.createElement(ie.a,{component:"main",maxWidth:"xs"},r.a.createElement(ne.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("form",{className:e.form,onSubmit:f},r.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",onChange:p,name:"email",autoComplete:"email",value:u.email||"",autoFocus:!0}),r.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:p,autoComplete:"current-password",value:u.password||""}),r.a.createElement(le.a,{control:r.a.createElement(ce.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(oe.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(oe.a,{component:b.b,to:"/SignUp",variant:"body2",lineHeight:"5"},"User Sign Up")),r.a.createElement(g.a,null,r.a.createElement(oe.a,{component:b.b,to:"/SignUpRestaurant",variant:"body2",lineHeight:"5"},"Restaurant sign up"))))))}var Ee=Object(E.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}});function ge(){var e=Ee(),t=Object(C.f)(),a=Object(k.b)(),n=r.a.useState(!1),l=Object(d.a)(n,2),c=(l[0],l[1]),o=de(),i=o.onLogin,s=(o.onPageLoad,me(function(){localStorage.clear(),fetch("/api/signUp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(function(e){return e.json()}).then(function(e){"success"==e.status?(console.log(e),a(ue(e)),localStorage.setItem("token",e.token),localStorage.setItem("userid",e.insertId),localStorage.setItem("name",m.firstName+" "+m.lastName),t.push(i(e))):console.log("fail")}).catch(function(e){c(!0),console.log("fetch error",e)})})),m=s.inputs,u=s.handleInputChange,p=s.handleSubmit;return r.a.createElement(ie.a,{component:"main",maxWidth:"xs"},r.a.createElement(ne.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("form",{className:e.form,onSubmit:p},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(re.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:u,autoFocus:!0})),r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:u}))),r.a.createElement(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(g.a,{container:!0,justify:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(oe.a,{component:b.b,to:"/",variant:"body2"},"Already have an account? Sign in"))))))}var he=Object(E.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}});function be(){var e=he(),t=Object(C.f)(),a=Object(k.b)(),n=r.a.useState(!1),l=Object(d.a)(n,2),c=(l[0],l[1]),o=de(),i=o.onLogin,s=(o.onPageLoad,me(function(){localStorage.clear(),fetch("/api/signUpRest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(function(e){return e.json()}).then(function(e){"success"==e.status?(a(ue(e)),localStorage.setItem("token",e.token),localStorage.setItem("userid",e.insertId),localStorage.setItem("name",m.name),t.push(i(e)),console.log(e)):console.log("failed")}).catch(function(e){c(!0),console.log("fetch error",e)})})),m=s.inputs,u=s.handleInputChange,p=s.handleSubmit;return r.a.createElement(ie.a,{component:"main",maxWidth:"xs"},r.a.createElement(ne.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("form",{className:e.form,onSubmit:p},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",onChange:u,autoFocus:!0})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"style",label:"Style",type:"style",id:"style",onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"address",label:"Address",type:"address",id:"address",onChange:u}))),r.a.createElement(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(g.a,{container:!0,justify:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(oe.a,{component:b.b,to:"/",variant:"body2"},"Already have an account? Sign in"))))))}var Oe=Object(E.a)(function(e){return{}});function ye(e){var t=function(){console.log("hello"),fetch("/api/saveReview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:localStorage.getItem("userid"),restid:e.match.params.UserID,description:a}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log("fetch error",e)})},a="",l=(Object(C.f)(),"fasdf"),c=[],o=[],i=[],s=(Oe(),Object(n.useState)([])),m=Object(d.a)(s,2),u=(m[0],m[1],Object(n.useState)(c)),p=Object(d.a)(u,2),f=p[0],E=p[1],S=Object(n.useState)([]),I=Object(d.a)(S,2),x=(I[0],I[1],Object(n.useState)([])),N=Object(d.a)(x,2),D=(N[0],N[1],Object(n.useState)(o)),P=Object(d.a)(D,2),U=P[0],k=P[1],T=Object(n.useState)(i),R=Object(d.a)(T,2),W=R[0],_=R[1],L=function(e){a=e.target.value},J=Object(n.useState)(!1),A=Object(d.a)(J,2),M=A[0],q=A[1],z=Object(n.useState)(l),F=Object(d.a)(z,2),B=F[0],G=F[1];Object(n.useEffect)(function(){fetch("/api/loadRestPage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e.match.params.UserID}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){c=e.userposts,E(c),o=e.reviews,k(o),l=e.userinfo[0].Name,G(l),i=e.menu,_(i)}).catch(function(e){return console.log("fetch error",e)})},[M]);return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Reviews"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},U.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.UserID,xs:12,zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{UserID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.RName),r.a.createElement("p",null,e.Description))))))))}))),r.a.createElement("div",{className:"div"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"hero-container"},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},r.a.createElement("textarea",{className:"logo d-flex justify-content-center",value:B})),r.a.createElement("button",{onClick:function(){fetch("/api/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({follower:localStorage.getItem("userid"),follow:e.match.params.UserID})}).then(function(e){return e.json()}).then(function(e){M()}).catch(function(e){q(!0),console.log("fetch error",e)})}},"Follow"),r.a.createElement(w.a,{modal:"true",trigger:r.a.createElement("button",null,"Review")},function(e){return r.a.createElement("div",{alignItems:"center"},r.a.createElement("div",{alignItems:"center"},r.a.createElement("textarea",{rows:"5",cols:"100",onKeyUp:L})),r.a.createElement("button",{onClick:t},"Submit"),r.a.createElement("button",{onClick:e},"Close"))}))),r.a.createElement("div",{className:"card-body",id:"posts"},r.a.createElement("h",null,"Posts"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},f.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.PostID,item:!0,sm:3,xs:"auto",zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/PostPage/".concat(e.PostID),state:{PostID:e.PostID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name),r.a.createElement("p",null,e.Post),r.a.createElement("p",null,e.TimeStamp))))))))}))))),r.a.createElement("div",{className:"grid"},r.a.createElement("h",null,"Menu Items"),r.a.createElement(g.a,{container:!0,spacing:0,direction:"column",justify:"flex-start",alignItems:"baseline"},W.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.ItemID,xs:12,zeroMinWidth:!0},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name)))))))})))))}var ve=Object(E.a)(function(e){return{}});function je(e){var t=function(){console.log("hello"),fetch("/api/saveComment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:localStorage.getItem("userid"),postid:e.match.params.PostID,comment:a}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){}).catch(function(e){return console.log("fetch error",e)})},a="",l=function(e){a=e.target.value},c=(Object(C.f)(),"fasdf"),o="asld;kfj",i=[],s="",m=(ve(),Object(n.useState)(i)),u=Object(d.a)(m,2),p=u[0],f=u[1],E=Object(n.useState)(s),S=Object(d.a)(E,2),I=S[0],x=S[1],N=Object(n.useState)(!1),D=Object(d.a)(N,2),P=D[0],U=(D[1],Object(n.useState)(c)),k=Object(d.a)(U,2),T=k[0],R=k[1],W=Object(n.useState)(o),_=Object(d.a)(W,2),L=_[0],J=_[1];Object(n.useEffect)(function(){fetch("/api/loadPost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postid:e.match.params.PostID}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){console.log(e),c=e.postinfo.Name,R(c),s=e.postinfo.UserID,x(s),console.log(s),o=e.postinfo.Post,J(o),i=e.comments,f(i)}).catch(function(e){return console.log("fetch error",e)})},[P]);return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",null,r.a.createElement("div",{className:"card text-white bg-primary mb-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"hero-container"},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(I)}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,T),r.a.createElement("p",null,L))))))),r.a.createElement(w.a,{modal:"true",trigger:r.a.createElement("button",null,"Comment")},function(e){return r.a.createElement("div",{alignItems:"center"},r.a.createElement("div",{alignItems:"center"},r.a.createElement("textarea",{rows:"5",cols:"125",onKeyUp:l})),r.a.createElement("button",{onClick:t},"Submit"),r.a.createElement("button",{onClick:e},"Close"))}))),r.a.createElement("div",{className:"card-body",id:"posts"},r.a.createElement(g.a,{container:!0,spacing:0,direction:"row",justify:"flex-start",alignItems:"baseline"},p.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.PostID,item:!0,sm:3,xs:"auto",zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{PostID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name),r.a.createElement("p",null,e.Comment),r.a.createElement("p",null,e.TimeStamp))))))))}))))),r.a.createElement("div",null))}var we=Object(E.a)(function(e){return{}});function Se(e){var t=[],a=(we(),Object(n.useState)(t)),l=Object(d.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),m=s[0];s[1];return Object(n.useEffect)(function(){fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:e.match.params.SearchTerm}),credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t=e.return,o(t)}).catch(function(e){return console.log("fetch error",e)})},[m]),r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",null,r.a.createElement("div",{className:"card text-white bg-primary mb-3"},r.a.createElement("div",{className:"card-body",id:"posts"},r.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"baseline"},c.map(function(e,t){return r.a.createElement(h.a,{in:!0,style:{transformOrigin:"0 0 0"},timeout:500*t},r.a.createElement(g.a,{key:e.UserID,item:!0,sm:3,xs:"auto",zeroMinWidth:!0},r.a.createElement(b.b,{style:{textDecoration:"none"},to:{pathname:"/UserPage/".concat(e.UserID),state:{PostID:e.UserID,show:!1}}},r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,r.a.createElement("b",null,e.Name))))))))}))))),r.a.createElement("div",null))}a(119);var Ie=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(C.c,null,r.a.createElement("div",{className:"main-content-container container-fluid d-flex flex-column"},r.a.createElement("div",null,r.a.createElement(ne.a,null),r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/",component:fe}),r.a.createElement(C.a,{exact:!0,path:"/SignUp",component:ge}),r.a.createElement(C.a,{exact:!0,path:"/SignUpRestaurant",component:be}),r.a.createElement(C.a,{exact:!0,path:"/HomePage",component:Q}),r.a.createElement(C.a,{exact:!0,path:"/UserPage/:UserID",component:te}),r.a.createElement(C.a,{exact:!0,path:"/RestaurantPage/:UserID",component:ye}),r.a.createElement(C.a,{exact:!0,path:"/Post/:PostID",component:je}),r.a.createElement(C.a,{exact:!0,path:"/Search/:SearchTerm",component:Se})))))}}]),t}(n.Component),xe=a(58);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Pe={currentUser:{}};var Ue=Object(xe.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ce=Object(xe.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return De({},e,{currentUser:t.payload});case"LOGOUT_USER":return De({},e,{currentUser:{}});default:return e}},Ue);a(120);c.a.render(r.a.createElement(b.a,null,r.a.createElement(k.a,{store:Ce},r.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){},88:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.2d1355de.chunk.js.map